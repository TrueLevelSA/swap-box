<ScreenBuyScan>:
    BoxLayout:
        orientation: "vertical"
        MainBox:
            orientation: "horizontal"
            BoxLayout:
                orientation: "vertical"
                BlackLabelSmall:
                    text: app._languages[app._selected_language]["inputkey"]
                Image:
                    source: 'assets/img/phoneqr.png'
                    allow_stretch: True
                    keep_ratio: True
                BoxLayout:
                #    orientation: 'vertical'
                #    Label:
                #        font_size: '20'
                #        color: [0,0,0,1]
                #        size_hint_y : .1
                #        allow_stretch: True
                #        text: app._languages[app._selected_language]["inputwallet"]
                #    BoxLayout:
                #        size_hint_y : .2
            BoxLayout:
                size_hint_x : .1
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    size_hint_y : .2
                BlackLabelSmall:
                    text: app._languages[app._selected_language]['camera_loading']
                    #on_press:
                    #    print(self.pos)
                    #    print(self.size)
                    #    root.manager.transition.direction = 'left'
                    #    root.manager.current = "insert_screen"
                    size_hint_x : .9
                BoxLayout:
                    size_hint_y : .2
        ButtonBox:
            MediumButton:

                text: app._languages[app._selected_language]["menu"]
                on_release:
                    root.manager.transition.direction = 'right'
                    root.manager.current = "menu"
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .2


<ScreenBuyInsert>:
    BoxLayout:
        orientation: "vertical"
        MainBox:
            orientation: "vertical"
            BoxLayout:
                size_hint_y: 0.05
            WhiteLabelLarge:
                text: app._languages[app._selected_language]["inputfiat"]
                size_hint_y: 0.1
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    size_hint_y : .1
                BoxLayout:
                    size_hint_y : .2
                    canvas.before:
                        Color:
                            rgba: 5,5,5,.5
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    BlackLabelLarge:
                        text: "{}  [b]{} {}[/b]".format(app._languages[app._selected_language]["fiatvalue"], root._cash_in, app._machine_currency)
                BoxLayout:
                    size_hint_y : .2
                    BlackLabelLarge:
                        text: "{}  [b]{} ETH[/b]".format(app._languages[app._selected_language]["cryptovalue"], root._estimated_eth / 1e18)
                BoxLayout:
                    size_hint_y : .2
                    canvas.before:
                        Color:
                            rgba: 5,5,5,.5
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    BlackLabelLarge:
                        text: "{}  [b]{} ETH[/b]".format(app._languages[app._selected_language]["cryptoslippage"], root._minimum_wei / 1e18)
                BoxLayout:
                    size_hint_y: 0.05
                BlackLabelLarge:
                    text: "{} [b]{}[/b]".format(app._languages[app._selected_language]["customeraddress"], root._tx_order_to)
                    size_hint_y: 0.1
                BoxLayout:
                    size_hint_y: 0.05
                    BlackLabelLarge:
                        id: buy_limit
                        color: 1,0,0,1
                        text: ""

        ButtonBox:
            MediumButton:
                text: app._languages[app._selected_language]["menu"]
                disabled: root._cash_in > 0
                on_release:
                    root._leave_without_buy()
                    root.manager.transition.direction = 'right'
                    root.manager.current = "menu"
            MediumButton:
                id: buy_confirm
                disabled: root._cash_in <= 0
                text: app._languages[app._selected_language]["confirm"]
                on_release:
                    root._buy()


<ScreenBuyFinal>:
    BoxLayout:
        orientation: "vertical"
        MainBox:
            orientation: "horizontal"
            # size_hint_x : .1
            BoxLayout:
                orientation: "vertical"
                BoxLayout:
                    size_hint_y : .2
                    WhiteLabelLarge:
                        text: app._languages[app._selected_language]["thank"]
                BoxLayout:
                    size_hint_y : .2
                    BlackLabelLarge:
                        text: "[b]{}[/b] {:.2f} {}".format(app._languages[app._selected_language]["fiatvalue"], root._fiat_sold, app._machine_currency)
                BoxLayout:
                    size_hint_y : .2
                    canvas.before:
                        Color:
                            rgba: 5,5,5,.5
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    BlackLabelLarge:
                        text: "{}  [b]{:.5f} ETH[/b]".format(app._languages[app._selected_language]["cryptovalue"], root._eth_bought)
                BoxLayout:
                    size_hint_y : .2
                    BlackLabelLarge:
                        text: "{}  [b]{}[/b]".format(app._languages[app._selected_language]["customeraddress"], root._address_ether)


        ButtonBox:
            # BoxLayout:
            #     orientation: "horizontal"
            #     size_hint_x : .2
            Button:
                text: ''
                background_color: [1, 1, 1, 0]
            MediumButton:
                text: app._languages[app._selected_language]["thank"]
                on_release:
                    root.manager.transition.direction = 'right'
                    root.manager.current = "menu"
            # BoxLayout:
            #     orientation: "horizontal"
            #     size_hint_x : .2
