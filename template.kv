<Background@Image>:
    source: 'img/bgreen.jpg'
    allow_stretch: True
    keep_ratio: False

# Label with black font
<BlackLabel@Label>:
    color: [0,0,0,1]

# Label with black font, small font size
# used for content
<BlackLabelSmall@BlackLabel>:
    font_size: 20

# Label with black font, medium font size
# used for subtitles
<BlackLabelMedium@BlackLabel>:
    font_size: 22

# Label with black font, large font size
# used for titles
<BlackLabelLarge@BlackLabel>:
    font_size: 25

<MediumButton@Button>:
    size_hint_x: 0.1
    size_hint_y: .8
    font_size: 30
    background_color: [1,0,0,.2]

<MainBox@BoxLayout>:
    size_hint_y: .8
    canvas.before:
        Color:
            rgba: 5,5,5,.5
        Rectangle:
            pos: self.pos
            size: self.size

<ButtonBox@BoxLayout>:
    spacing: 20  
    size_hint_y: .2
    orientation: 'horizontal'

<ScreenWelcome>:
    BoxLayout:
        Button:
            id: "welcome_Button"
            text: app._languages[app._selected_language]["welcome"]
            font_size: 20
            on_press: root.manager.current = "main"

<ScreenMain>:
    Background
    BoxLayout:
        orientation: "vertical"
        padding: 50
        BoxLayout:
            orientation: "horizontal"
            size_hint_y: .3
            BlackLabel:
                font_size:30
                text: app._languages[app._selected_language]["main_title"]
            BoxLayout:
                orientation: "horizontal"
                size_hint_x: .6
                padding: 10
                #Button:    
                #    size_hint_x: .3          
                #    text: app._languages[app._selected_language]["admin_menu"]
                #    on_press: 
                #        root.manager.transition.direction = 'left'
                #        root.manager.current = "settings"
                Label:
                    size_hint_x: 0.3
                MediumButton:    
                    size_hint_x: .9
                    size_hint_y: 1.5
                    disabled: True
                    text: app._languages[app._selected_language]["language"]

        ScreenManager:
            id: sm1
            size_hint_y: 2
    

<ScreenMenu>:
    id: menu_screen
    BoxLayout:
        orientation: "vertical"
        MainBox:
            orientation: "horizontal"
            BoxLayout:
                orientation: "vertical"
                BlackLabelLarge:
                    size_hint_y: .15
                    font_size: 25
                    text: app._languages[app._selected_language]["select_crypto"]
                BoxLayout:
                    orientation: "horizontal"
                    BoxLayout:
                        orientation: "vertical"
                        BlackLabelSmall:
                            text: 'ETHEREUM (ETH)' 
                            size_hint_y: .2
                        Image:
                            source: 'img/ETH-logo.png'
                            allow_stretch: True
                            size_hint_y: .5
                            keep_ratio: True
                        BlackLabelSmall:
                            text: 'Buy = {:.2f} CHF'.format(app._chf_to_eth)
                            size_hint_y: .1
                        BlackLabelSmall:
                            text: 'Sell = {:.2f} CHF'.format(app._eth_to_chf)
                            size_hint_y: .1
                Label:
                    #text: 'Message Tu es la'
                    #font_size: '20' 
                    size_hint_y: .1
 
        ButtonBox:
            MediumButton:
                text: app._languages[app._selected_language]["buy"]
                on_press: 
                    root.manager.transition.direction = 'left'
                    root.manager.current = "scan_screen"
            MediumButton:
                text: app._languages[app._selected_language]["sell"]
                disabled: True
            MediumButton:
                text: app._languages[app._selected_language]["redeem"]
                on_press:
                    root.manager.transition.direction = 'left'
                    root.manager.current = "redeem"
                disabled: True

<ScreenBuyScan>:
    BoxLayout:
        orientation: "vertical"
        MainBox:
            orientation: "horizontal"
            BoxLayout:
                orientation: "vertical"
                BlackLabelSmall:
                    text: app._languages[app._selected_language]["inputkey"]
                Image:
                    source: 'img/phoneqr.png'
                    allow_stretch: True
                    keep_ratio: True            
                BoxLayout:
                #    orientation: 'vertical'
                #    Label:
                #        font_size: '20'
                #        color: [0,0,0,1]
                #        size_hint_y : .1
                #        allow_stretch: True
                #        text: app._languages[app._selected_language]["inputwallet"]
                #    BoxLayout:
                #        size_hint_y : .2
            BoxLayout:
                size_hint_x : .1
            BoxLayout:
                orientation: "vertical" 
                BoxLayout:
                    size_hint_y : .2     
                BlackLabelSmall:
                    text: "Camera is loading" 
                    #on_press: 
                    #    print(self.pos)
                    #    print(self.size)
                    #    root.manager.transition.direction = 'left'
                    #    root.manager.current = "insert_screen"
                    size_hint_x : .9
                BoxLayout:
                    size_hint_y : .2
        ButtonBox:
            MediumButton:
 
                text: app._languages[app._selected_language]["menu"]
                on_press: 
                    root.manager.transition.direction = 'right'
                    root.manager.current = "menu"
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .2


<ScreenBuyInsert>:
    BoxLayout:
        orientation: "vertical"
        MainBox:
            orientation: "vertical"
            BoxLayout:
                size_hint_y: 0.05
            BlackLabelLarge:
                text: app._languages[app._selected_language]["inputfiat"]
                size_hint_y: 0.1
            BoxLayout:
                size_hint_y: 0.05
            BlackLabelMedium:
                text: "Your wallet: {}".format(root._address_ether)
                size_hint_y: 0.1
            BoxLayout:
                orientation: "vertical" 
                BoxLayout:
                    size_hint_y : .2   
                    BlackLabelSmall:
                        text: app._languages[app._selected_language]["fiatvalue"]
                BoxLayout:
                    size_hint_y : .2
                    canvas.before:
                        Color:
                            rgba: 5,5,5,.5
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    BlackLabelSmall:
                        text: "{} CHF".format(root._cash_in)
                BoxLayout:
                    size_hint_y : .2  
                    BlackLabelSmall:
                        text: app._languages[app._selected_language]["cryptovalue"]
                BoxLayout:
                    size_hint_y : .2  
                    canvas.before:
                        Color:
                            rgba: 5,5,5,.5
                        Rectangle:
                            pos: self.pos
                            size: self.size
                    BlackLabelSmall:
                        text: "~{:.2f} ETH".format(root._cash_in / app._chf_to_eth)
        ButtonBox:
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .1
            MediumButton:
                text: app._languages[app._selected_language]["menu"]
                on_press:
                    root._leave_without_buy()
                    root.manager.transition.direction = 'right'
                    root.manager.current = "menu"
            MediumButton:
                disabled: root._cash_in <= 0
                text: app._languages[app._selected_language]["confirm"]
                on_press:
                    root._buy()
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .1

<ScreenBuyFinal>:
    BoxLayout:
        orientation: "vertical"        
        BoxLayout:
            orientation: "horizontal"
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .05
            MainBox:
                orientation: "horizontal"
                size_hint_x : .1
                BoxLayout:
                    orientation: "vertical" 
                    BoxLayout:
                        size_hint_y : .2   
                        BlackLabelSmall:
                            text: app._languages[app._selected_language]["thank"]
                    BoxLayout:
                        size_hint_y : .2
                        canvas.before:
                            Color:
                                rgba: 5,5,5,.5
                            Rectangle:
                                pos: self.pos
                                size: self.size
                        BlackLabelSmall:
                            text: "500 CHF"
                    BoxLayout:
                        size_hint_y : .2  
                        BlackLabelSmall:
                            text: app._languages[app._selected_language]["cryptovalue"]
                    BoxLayout:
                        size_hint_y : .2  
                        canvas.before:
                            Color:
                                rgba: 5,5,5,.5
                            Rectangle:
                                pos: self.pos
                                size: self.size
                        BlackLabelSmall:
                            text: "(ETH) 2.5"
                    BoxLayout:
                        size_hint_y : .2
                        BlackLabelSmall:
                            text: root._address
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .05

        ButtonBox:
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .2
            MediumButton:
                text: app._languages[app._selected_language]["confirm"]
                on_press: 
                    root.manager.transition.direction = 'right'
                    root.manager.current = "menu"
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .2

<ScreenLoading>:
    BoxLayout:
        orientation: "vertical"
        MainBox:
            orientation: "horizontal"
            BlackLabelSmall:
                text: "Loading..."
        ButtonBox:

<ScreenRedeem>:
    BoxLayout:
        orientation: "vertical"
        MainBox:
            orientation: "horizontal"
            BlackLabelSmall:
                text: "Readeem Code"

        ButtonBox:
            MediumButton:
 
                text: app._languages[app._selected_language]["menu"]
                on_press:
                    root.manager.transition.direction = 'right'
                    root.manager.current = "menu"
            
            BoxLayout:
                orientation: "horizontal"
                size_hint_x : .2

<ScreenSettings>:
    MainBox:
        orientation: "horizontal"
        TabbedPanel:
            tab_pos: 'bottom_right'
            do_default_tab: False
            TabbedPanelItem:
                text: app._languages[app._selected_language]["connectivity"]
                MainBox: 
                    Label:
                        text: "Wifi Menu"

            TabbedPanelItem:
                text: app._languages[app._selected_language]["crypto"]
                MainBox: 
                    Button:
                        text: "crypto keys config"
                        on_press: root.manager.current = 'main'


<ScreenConfirmation>:
    MainBox:
        orientation: "horizontal"
